{%- liquid
  assign benefits = product.metafields.custom.section_benefits_list.value
  assign benefits_title = product.metafields.custom.section_benefits_title.value
  assign benefits_description = product.metafields.custom.section_benefits_description.value

  assign has_benefits = false
  if benefits != blank
    assign has_benefits = true
  endif
-%}

{% if has_benefits %}
  <div class="container-small py-12 md:py-20">
    <div class="p-8">
      <div class="text-center mb-12">
        <h2 class="title-medium">{{ benefits_title | default: 'Product Benefits' }}</h2>

        {% if benefits_description %}
          <p class="text-base opacity-70 mt-2">{{ benefits_description }}</p>
        {% endif %}
      </div>

      <div class="flex flex-row justify-center flex-wrap">
        {% for benefit in benefits %}
          {% liquid
            assign has_description = false
            if benefit.description != blank
              assign has_description = true
            endif
          %}
          <div class="flex flex-col items-center justify-center text-center w-1/3 pb-6">
            <div class="mb-4 size-32">
              {% render 'image', image: benefit.image_icon, class: 'w-full h-full object-cover' %}
            </div>
            <div class="text-xl font-[550]">{{ benefit.title }}</div>
            <div class="text-sm text-foreground-secondary mt-1">
              {% if has_description %}
                {{ benefit.description }}
              {% endif %}
            </div>
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endif %}

{% schema %}
{
  "name": "Product Benefits",
  "tag": "section",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Title"
    }
  ],
  "presets": [
    {
      "name": "Product Benefits",
      "category": "Product"
    }
  ]
}
{% endschema %}
