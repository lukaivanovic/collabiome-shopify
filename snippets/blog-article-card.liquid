{% assign show_date = include.show_date | default: false %}
{% assign show_author = include.show_author | default: false %}
{% assign show_excerpt = include.show_excerpt | default: false %}
{% assign excerpt_words = include.excerpt_words | default: 30 %}
{% assign card_bg_class = include.card_bg_class | default: 'bg-white hover:bg-neutral-50' %}

<a href="{{ article.url }}" class="group block h-full">
  <article class="blog-card h-full flex flex-col {{ card_bg_class }}">
    <div class="blog-card__media overflow-hidden">
      {% if article.image %}
        {{
          article.image
          | image_url: width: 800
          | image_tag:
            loading: 'lazy',
            sizes: '(min-width: 990px) 33vw, (min-width: 750px) 50vw, 100vw',
            alt: article.title,
            class: 'group-hover:scale-105 transition-transform duration-300'
          | escape
        }}
      {% else %}
        <div class="blog-card__placeholder" aria-hidden="true"></div>
      {% endif %}
    </div>
    <div class="flex flex-1 flex-col gap-3 p-6">
      {% if show_date and article.published_at %}
        <div class="text-xs font-medium uppercase tracking-[0.4em] text-indigo-500">
          {{ article.published_at | date: '%b %d, %Y' }}
        </div>
      {% endif %}

      <h3 class="blog-card__title h-[2lh] line-clamp-2 text-lg font-medium">
        {{ article.title | escape }}
      </h3>

      {% if show_author and article.author %}
        <p class="text-sm text-gray-500">
          {{ article.author | escape }}
        </p>
      {% endif %}

      {% if show_excerpt %}
        <p class="text-sm text-slate-600 leading-relaxed">
          {{ article.excerpt | strip_html | truncatewords: excerpt_words }}
        </p>
      {% endif %}
    </div>
  </article>
</a>
